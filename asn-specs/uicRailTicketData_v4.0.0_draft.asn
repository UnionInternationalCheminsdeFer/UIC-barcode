-- Creator: ASN.1 Editor (http://asneditor.sourceforge.net)
-- Author: ClemensGantert
-- Created: Mon Jun 28 14:14:28 CEST 2021
-- Last modification: Fri Sep 19 CEST 16:00:00 CEST 2025
ASN-Module-RailTicketData DEFINITIONS AUTOMATIC TAGS ::= BEGIN

-- imports and exports
-- EXPORTS ALL;


-- Changes:
--    New ticket structure merging openTicket, pass, reservation and allowing defining a commercialCard.
--    Improvements in IssuingData and ControlData.
--    Renaming of some elements to address transport modes other than rail

-- ##############################################################################################
-- #
-- #   version 4.0.0       - Value 4 in the UIC bar code version element
-- #                         (see element 2 in U_FLEX record definition in leaflet 918.9)
-- #                       - Value "FCB4" in element dataFormat of UicBarcodeHeader
-- #
-- ##############################################################################################


-- ##############################################################################################
-- #
-- #  Naming and encoding conventions
-- #
-- #  ISO Country codes are used to code countries.
-- #    As Kosovo does not have an official ISO Country Code the following codes are used:
-- #          926 for Kosovo as numeric ISO Country Code
-- #          XK  for Kosovo as alphanumeric 2-character ISO Country Code
-- #
-- #  RICS codes must be used to encode companies (issuer, product owner, ...) where available
-- #    Other codes are possible based on bilateral agreements
-- #    The format is kept more flexible to cover upcoming extensions of the RICS code by ERA
-- #
-- #  Stations can be coded using the UIC and upcoming ERA code lists. Proprietary codes are
-- #    possible based on bilateral agreements. Format: 1..9999999 or alphanumeric without
-- #    special character (IA5String)
-- #
-- #
-- # !  INTEGERS must not exceed the value of 9,223,372,036,854,775,807 (64 bit) even in case
-- # !     they are unrestricted!!!
-- # !
-- # !   Some elements like Reference or cardId are defined as an unrestricted integer.
-- # !   Unlike other numerical values the cardId and reference can be larger than a usual 32 bit Integer
-- # !   Some ASN.1 implementation tools are limited to 32 bit integers which is too small.
-- # !   Please ensure to use a tool capable of dealing with larger numbers.
-- #
-- #  Optional BOOLEANs have three values: "true", "false", "unknown" = the Boolean is absent from the data.
-- #
-- #
-- #  Encoding of time:
-- #     Time is encoded as the number of minutes of the day from 0 = 00:00 to 1439 = 23:59,
-- #     time data elements end with "time" in their name.
-- #
-- #  Encoding of date:
-- #  .........................................................................................................
-- #  The issuing date is given in UTC, but some other date values are given in local time where the exact time zone is not known.
-- #
-- #  For local dates the date is associated with the corresponding location:
-- #  e.g.:
-- #    valid from date -> location where the journey starts
-- #    valid until date -> location where the journey covered by the ticket ends
-- #
-- #    there could be rare cases where this does not provide a unique interpretation:
-- #      e.g. open ticket or pass without start and end location for a collection of zones or countries with different time zones.
-- #           in these cases the fare conditions must clarify the rules for these cases (e.g. by allowing to use the
-- #           ticket a few hours after the end of validity).
-- #
-- #  The difference in days is calculated from dates only, ignoring the time and time zone information.
-- #
-- #  example 1:  (31.12.2017 23:05 UTC == 01.01.2018 00:05 CET) :
-- #          issuing date (UTC):         31.12.2017 23:05  == 01.01.2018 00:05 CET
-- #              issuingYear             = 2017
-- #              issuingDay              = 365
-- #              issuingTime             = 1385
-- #          local departure date (CET): 01.01.2018 00:15  == 31.12.2017 23:15 UTC
-- #              departureDate           = 1   (= 01.01.2018 - 31.12.2017)
-- #              departureTime           = 15
-- #              departureUTCOffset      = -4  (UTC = local + offset * 15 Minutes)
-- #
-- #
-- #  example 2:  (01.01.2018 00:05 UTC == 31.12.2017 20:05 AST)
-- #          issuing date (UTC):         01.01.2018 00:05 UTC == 31.12.2017 20:05 AST
-- #              issuingYear             = 2018
-- #              issuingDay              = 1
-- #              issuingTime             = 5
-- #          local departure date (AST): 31.12.2017 22:05 AST == 1.1.2018 02:05 UTC
-- #              departureDate           = -1   (= 31.12.2017 - 01.01.2018)
-- #              departureTime           = 1325
-- #              departureUTCOffset      = 16  (UTC = local + offset * 15 Minutes)
-- #
-- #          departureDate can become -1 with a departure west of the GMT zone only
-- #
-- #
-- #  Tickets might cover multiple time zones where valid from and until is not linked to a specific time zone (e.g. Eurail Pass valid for whole Europe).
-- #  In this case the date times are to be interpreted as local at the actual place where the traveler is and the ticket is checked. The utcOffset must not be
-- #  provided for these local date times.
-- #
-- #  !!In general the issuing date and time is always UTC whereas the other dates and times are always local.!!
-- #
-- #  It is RECOMMENDED not to use the utcOffset until there is a need to do so.
-- #
-- #  ASN.1 Extensions:
-- #
-- #    The specification makes use of the ASN.1 extension marker ("...").
-- #    Extensions might be defined in future versions of the UIC specification
-- #    Implementations must support this extension feature of ASN.1, at least they must be able to ignore extensions while decoding the data
-- #    ASN.1 extensions will be defined by UIC. It is not allowed to define bilateral extensions.
-- #
-- #  Bilateral Extensions:
-- #    Bilateral extensions can be included in the data element "ExtensionData".
-- #
-- ##############################################################################################


-- ##############################################################################################
--  Type assignments
-- ##############################################################################################

-- ##############################################################################################
--  UniversalTicketData is the basic entry point of the data structure.
--  Its data include:
--    - issuer informations (this is the only mandatory information)
--    - informations on the travelers independent from the transport document
--    - informations on the group
--    - the details of the transport document
--    - informations required for the control process
--    - proprietary extensions
-- ##############################################################################################
UniversalTicketData ::= SEQUENCE {

    -- Data specific to the issuer
    issuingDetail         IssuingData,

    -- Traveler data. Present if personal data about the travelers are needed, otherwise omitted.
    -- These data do not include tariff details of the booked tariffs.
    -- Tariff data are included in the transport document details and might
    --   have a reference to the traveler defined here.
    -- The index of the sequence can be used to identify the
    --   traveler within other contexts (e.g. in assigned tariffs).
    traveler              SEQUENCE OF TravelerType                OPTIONAL,

    -- Group details. Present if the traveler is a member of a group, otherwise omitted.
    groupDetails          GroupDetailsType                        OPTIONAL,

    -- Data of the transport documents.
    -- Only one element should be a transportProduct, the others being associated documents.
    --   (e.g. associated commercial card, associated tokens, associated carCarriage, vouchers...)
    transportDocument     SEQUENCE SIZE (1..16) OF DocumentData   OPTIONAL,

    -- Data specific to support the ticket control process.
    -- If TransportProduct is used, the control data should be defined in its conditions
    --   and this global controlDetail element should be omitted.
    controlDetail         ControlData                             OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension             SEQUENCE OF ExtensionData               OPTIONAL,
    ...
}

-- ##############################################################################################
--  The choice on the different transport documents that can be included in the bar code data:
--    - universal transport product
--    - reservation of car carriage (VET)
--    - voucher
--    - customer card (including bonus cards and reduction cards)
--    - parking ground tickets
--    - station access / station passage tickets
--    - delay confirmation
--    - token
--    - proprietary documents as an extension
-- #############################################################################################
DocumentData ::= CHOICE {

    -- Universal transport product.
    -- Can be used for tickets (incl. FIP), passes, reservations, countermarks, customer cards and parking.
    transportProduct               TransportProductData,

    -- Reservation of car carriage.
    carCarriageReservation         CarCarriageReservationData,

    -- Voucher.
    voucher                        VoucherData,

    -- Simple customer card either to identify a customer and / or to provide reductions or loyalty.
    -- For detailed or complex commercial cards (e.g. valid only on a specific OD), use transportProduct instead.
    customerCard                   CustomerCardData,

    -- Standalone car parking slot.
    -- For parking as a part of a global door-to-door journey, use transportProduct instead.
    parkingGround                  ParkingGroundData,

    -- Ticket to pass the gates at a station.
    stationPassage                 StationPassageData,

    -- Delay confirmation.
    delayConfirmation              DelayConfirmation,

    -- Token (specific id linked to the ticket).
    token                          TokenType,

    -- Proprietary data defined bilaterally.
    extension                      ExtensionData,

    ...
}

-- ##############################################################################################
--  Confirmation of the delay of a transport
-- ##############################################################################################
DelayConfirmation ::= SEQUENCE {

    -- Transport number of the delayed transport.
    transportNumber              TransportNumberType                  OPTIONAL,

    -- Planned departure date of the delayed transport in local time at the station where delay
    --   became relevant (see below).
    departure                     ValidFromType                       OPTIONAL,

    -- Station where the delay became relevant.
    station                       StationType                         OPTIONAL,

    -- Delay in minutes at the mentioned station. Omitted if not relevant (e.g. if transport was cancelled).
    delay                         INTEGER (1..999)                    OPTIONAL,

    -- Indication that the transport was cancelled.
    transportCancelled            BOOLEAN,

    -- Type of confirmation provided.
    confirmationType              ConfirmationType                    DEFAULT travelerDelayConfirmation,

    -- Affected original ticket(s).
    affectedTickets               SEQUENCE OF TicketLinkType          OPTIONAL,

    -- Additional information that cannot be described using the other elements.
    infoText                      UTF8String                          OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                     ExtensionData                       OPTIONAL,

    ...
}

-- ##############################################################################################
--  Details of the issuer and the issue of the ticket
--    - details on the issuer
--    - indication of test tickets (specimen)
--    - payment details: method of payment, currency
--    - proprietary id & booking id of the issuer to be used to identify the sale within his ecosystem
--    - web link to display more information for the customer
--    - retail information
--    - proprietary extension data
-- ##############################################################################################
IssuingData ::= SEQUENCE {

    -- Provider of the signature, may be absent if present in UicBarcodeHeader.
    securityProvider               CompanyCodeType               OPTIONAL,

    -- Issuer of the binary content of the transport document, if different from the security provider.
    issuer                         CompanyCodeType               OPTIONAL,

    -- Issuing time stamp in UTC.
    -- Number of year
    issuingYear                    INTEGER (2016..2269),
    -- Number of the day in the year (1.1. = 1)
    issuingDay                     INTEGER (1..366),
    -- The number of the minutes of issue might be used in case of account
    --   based ticketing with a delay of n minutes for the replication of central
    --   booking data to the control devices (e.g. at SBB).
    -- The time can be compared with the last synchronization time of the control device.
    issuingTime                    INTEGER (0..1439),

    -- Name of the issuer (e.g. short name mentioned in RICS code table).
    issuerName                     UTF8String                    OPTIONAL,

    -- Specimen indicates a test specimen not valid for traveling.
    specimen                       BOOLEAN,

    -- Secure paper indicates that this barcode is issued with a secure paper ticket
    --   to ensure the uniqueness of the ticket. This allows to use the same control
    --   procedure as for e-tickets also for anonymous tickets.
    --   The double use of the ticket is in this case excluded by the secure paper.
    securePaperTicket              BOOLEAN,

    -- Indicates that the ticket is valid for traveling or still needs activation.
    activated                      BOOLEAN,

    -- Currency of the price: ISO 4217 currency codes (upper case).
    currency                       IA5String (SIZE(3))           DEFAULT "EUR",

    -- Fraction of the prices included.
    currencyFract                  INTEGER (1..3)                DEFAULT 2,

    -- Id to uniquely identify this ticket (barcode) within the context of the issuer and an appropriate time range.
    -- Used to reference the ticket in central control applications (e.g. ETCD).
    id                             IA5String,

    -- Booking reference to the booking containing this ticket (barcode). The booking might include more than one ticket (barcode).
    bookingId                      IA5String                     OPTIONAL,

    -- Location of sale (transport number and/or line number) in case of a sale on board of a transport.
    issuedOnTransport              TransportNumberType           OPTIONAL,
    issuedOnLine                   TransportNumberType           OPTIONAL,

    -- Point of sale.
    pointOfSale                    GeoCoordinateType             OPTIONAL,

    -- Retail information.
    productRetail                  ProductRetailData             OPTIONAL,

    -- ISO 639-1 coding (lower case) of the language preferred for the traveler / ticket holder.
    preferredLanguage              IA5String (SIZE(2))           OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                      ExtensionData                 OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data allowing to describe all possible information about product retail
-- ##############################################################################################
ProductRetailData ::= SEQUENCE {

    -- Channel through which the traveler requested the contract / the barcode.
    retailChannel             RetailChannelData                OPTIONAL,

    -- Contract generation platform identifier.
    retailGeneratorId         CompanyCodeType                  OPTIONAL,

    -- Contract sales server identifier.
    retailServerId           CompanyCodeType                   OPTIONAL,

    -- Product retailer, as in ISO 24014-1.
    retailerId                CompanyCodeType                  OPTIONAL,

    -- Type of equipment that distributed the contract / the barcode
    -- (value specific to the product retailer).
    retailEquipmentType       INTEGER (0..127)                 OPTIONAL,

    -- Identifier of the final distribution point of the barcode
    --   (value specific to the product retailer).
    retailPointId             INTEGER                          OPTIONAL,

    -- Traceability information linked to the barcode or contract generation
    --   (value specific to the product retailer).
    retailTraceability        IA5String                        OPTIONAL,

    ...
   }

-- ##############################################################################################
--  Data supporting the control process
--    - List of items which the traveler can use to identify himself or the unique
--      usage of the ticket
--      (card ids, parts or identity card numbers, credit card numbers...)
--    - Instructions on the inspection to be made on board
-- ##############################################################################################
ControlData ::= SEQUENCE {

    -- Cards that can be used to identify the ticket holder.
    identificationByCardReference          SEQUENCE OF CardReferenceType OPTIONAL,

    -- Indicator of wether id must be checked to identify the traveler.
    -- Id-card or any official document proving identity and recognised by the carrier is acceptable.
    identificationRequired                 BOOLEAN,

    -- Indicator of wether passport id must be checked to identify the traveler.
    identificationByPassportIdRequired     BOOLEAN,

    -- Other items which could be used to identify the ticket holder
    --   (for future use, code list to be defined).
    identificationItem                     INTEGER                       OPTIONAL,

    -- Indicator of wether validation of the passport is required for elements other than identity (e.g. in case of Eurail)
    --   (verification of the passport's identity is controlled by identificationByPassportRequired).
    passportValidationRequired             BOOLEAN,

    -- Indicator of wether online validation of the ticket is required.
    onlineValidationRequired               BOOLEAN,

    -- Percentage of the tickets to be validated in more detail
    --   (i.e. via online check or detailed checks later-on).
    randomDetailedValidationRequired       INTEGER (0..99)               OPTIONAL,

    -- Indicator of wether validation of the traveler age is required (e.g. in case of reductions).
    ageCheckRequired                       BOOLEAN,

    -- Indicator of wether validation of the travelers reduction card is required (e.g. in case of reductions).
    reductionCardCheckRequired             BOOLEAN,

    -- Info text for the inspector.
    infoText                               UTF8String                                     OPTIONAL,

    -- Additional tickets that should be controlled.
    includedTickets                        SEQUENCE OF TicketLinkType                     OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                              ExtensionData                                  OPTIONAL,

     ...
   }

-- ##############################################################################################
--  Transport Product (ticket, right to travel, commercial card...)
-- ##############################################################################################
TransportProductData ::= SEQUENCE {

    -- Geographical validity of the transport product.
    -- This validity is described through successive segments that make up the route.
    geoValidity               SEQUENCE SIZE (1..16) OF GeoValiditySegmentType  OPTIONAL,

    -- To be provided in case the return route differs.
    returnGeoValidity         SEQUENCE SIZE (1..16) OF GeoValiditySegmentType  OPTIONAL,

    -- General conditions that apply to all segments of the route.
    generalConditions         ConditionsType                                   OPTIONAL,

    -- Specific conditions that can be applied to segments of the route.
    -- When a segment refers to specific conditions, these are added to the general conditions.
    -- If a particular condition is defined in both the general and then specific conditions,
    --   the one in specific conditions overrules the one in the general conditions.
    specificConditions        SEQUENCE SIZE (1..32) OF ConditionsType          OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                 ExtensionData                                    OPTIONAL,

    ...
}

-- ##############################################################################################
--  Car carriage for a car, motorcycle or trailer
-- ##############################################################################################
CarCarriageReservationData ::= SEQUENCE {

    -- Identification of the product (owner, id, textual description).
    product                         ProductType,

    -- Transport number (= service number, train number).
    transportNumber                 TransportNumberType               OPTIONAL,

    -- Loading of the car in local date and time at the loading station.
    -- Number of the days calculated from the issuing date.
    beginLoading                     ValidFromType,
    endLoading                       ValidUntilType                   OPTIONAL,

    -- Internal reference of the booking.
    reference                       GenericIdType                     OPTIONAL,

    -- Service brand: code list https://uic.org/service-brand-code-list.
    -- To identify the train service uniquely in combination with train number and departure date.
    serviceBrand                     INTEGER (0..32000)                OPTIONAL,
    serviceBrandAbrUTF8              UTF8String                        OPTIONAL,

    -- fromStation is the loading station, toStation is the unloading station.
    fromStation                      StationType,
    toStation                        StationType,

    coach                            IA5String                         OPTIONAL,
    place                            IA5String                         OPTIONAL,

    -- Description of the car.
    numberPlate                     IA5String,
    trailerPlate                    IA5String                          OPTIONAL,
    carCategory                     INTEGER (0..9),
    boatCategory                    INTEGER (0..6)                     OPTIONAL,
    textileRoof                     BOOLEAN,
    roofRackType                    RoofRackType                       DEFAULT  norack,

    -- Height of a roof rack in cm.
    roofRackHeight                   INTEGER (0..99)                    OPTIONAL,

    -- Number of boats on a rack.
    attachedBoats                    INTEGER (0..2)                     OPTIONAL,

    -- Number of biycles on a rack.
    attachedBicycles                 INTEGER (0..4)                     OPTIONAL,

    -- Number of surf boards on a rack.
    attachedSurfboards               INTEGER (0..5)                     OPTIONAL,

    -- Reference to an entry on the loading list.
    loadingListEntry                INTEGER (0..999)                    OPTIONAL,
    loadingDeck                     LoadingDeckType                     DEFAULT upper,

    -- Carriers responsible for the transport (RICS-Code).
    carrier                         SEQUENCE OF CompanyCodeType         OPTIONAL,

    -- Tariff code.
    tariffCode                      GenericIdType                       OPTIONAL,

    -- Tariff description.
    tariffDesc                      UTF8String                          OPTIONAL,

    -- Reduction cards applied (incl. discount cards, loyalty cards relevant for the tariff).
    -- Omitted if these cards have already been verified at the time of purchase,
    --   or if their verification is not requested during inspection.
    reductionCard                  SEQUENCE OF CardReferenceType        OPTIONAL,

    -- Additional information that cannot be described using the other elements.
    infoText                       UTF8String                           OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                      ExtensionData                        OPTIONAL,

    ...
}

-- ----------------------------------------------------------------------------------------------
--  Type definitions used in TransportLinkType and ReservationSegmentType
-- ----------------------------------------------------------------------------------------------
DepartureDateTimeType ::= SEQUENCE {
    -- Departure date and time in local time at the departure station.
    -- Number of days counted from the issuing date.
    departureDate      INTEGER (-1..500)                DEFAULT 0,
    departureTime      INTEGER (0..1439),

    -- Offset in units of 15 minutes from local time to UTC
    -- (UTC = local + offset * 15 minutes).
    -- The UTC offset can be used to calculate the duration of the travel.
    -- Times to be shown on a ticket should always be the local times.
    departureUTCOffset INTEGER (-60..60)                OPTIONAL
}

ArrivalDateTimeType ::= SEQUENCE {
    -- Arrival date and time in local time at the arrival station.
    -- Number of days counted from the departure date.
    arrivalDate        INTEGER (-1..20)                 DEFAULT 0,
    arrivalTime        INTEGER (0..1439)                OPTIONAL,

    -- Offset in units of 15 minutes from local time to UTC
    -- (UTC = local + offset * 15 minutes).
    -- Should be omitted in case it is the same as for departure.
    -- The UTC offset can be used to calculate the duration of the travel.
    -- Times to be shown on a ticket should always be the local times.
    arrivalUTCOffset   INTEGER (-60..60)                OPTIONAL
}

-- ##############################################################################################
--  Transport link data.
--  Describes a transport link associated to a route or to a part of a route.
--  Quite similar to a reservation but:
--    - without assigned place(s)
--    - without classCode/serviceBrand/serviceLevel (which must be described in the ConditionsType containing this transport Link)
-- ##############################################################################################
TransportLinkType ::= SEQUENCE {

    -- TRUE if using this transport service is mandatory.
    -- FALSE if the traveler can use another transport service
    mandatoryService        BOOLEAN                           DEFAULT TRUE,

    -- Station where the transport link begins.
    -- Omitted if it is the same station as the origin station of the associated segment.
    originStation           StationType                       OPTIONAL,

    -- Station where the transport link ends.
    -- Omitted if it is the same station as the destination station of the associated segment.
    destinationStation      StationType                       OPTIONAL,

    -- Transport numbers (= service number, train number) allowed for the transport link.
    -- Multiple numbers are allowed (e.g. two trains coupled together, each of them having its own train number).
    transportNumber         SEQUENCE OF TransportNumberType   OPTIONAL,

    -- Departure date and time in local time at the departure station of the transport link.
    departureDateTime       DepartureDateTimeType,

    -- Arrival date time in local time at the arrival station of the transport link.
    arrivalDateTime         ArrivalDateTimeType               OPTIONAL,

    -- Travel class.
    -- For transport modes where the concept of class does not exist, must be set to notApplicable.
    -- Omitted if the class is the same as the class of the associated leg.
    classCode               TravelClassType                   DEFAULT second,

    -- Service brand: code list https://uic.org/service-brand-code-list.
    -- To identify the transport service uniquely in combination with transport number and departure date.
    -- Omitted if this specific service brand is already specified in the associated leg, and is the only one that is specified for this leg
    --   (a leg can allow many service brands, but a reservation only specifies one).
    serviceBrand            INTEGER (0..32000)                OPTIONAL,
    serviceBrandAbrUTF8     UTF8String                        OPTIONAL,

    -- Service level code list from 918.1.
    -- Omitted if the same service level is already specified in the description of the associated leg.
    serviceLevel            IA5String (SIZE(1..2))            OPTIONAL,

    ...
}

-- ##############################################################################################
--  Reservation data.
--  Describes a reservation associated to a route, or to a part of a route.
--  Usable for a standalone reservation and for a reservation linked to a leg.
-- ##############################################################################################
ReservationSegmentType ::= SEQUENCE {

    -- TRUE if using this transport service is mandatory.
    -- FALSE if the traveler can use another transport service
    mandatoryService        BOOLEAN                           DEFAULT TRUE,

    -- Station where the reservation begins.
    -- Omitted if it is the same station as the origin station of the associated segment.
    originStation           StationType                       OPTIONAL,

    -- Station where the reservation ends.
    -- Omitted if it is the same station as the destination station of the associated segment.
    destinationStation      StationType                       OPTIONAL,

    -- Transport number (=service number, train number).
    transportNumber         TransportNumberType               OPTIONAL,

    -- Departure date and time in local time at the departure station.
    departureDateTime       DepartureDateTimeType,

    -- Arrival date time in local time at the arrival station.
    arrivalDateTime         ArrivalDateTimeType               OPTIONAL,

    -- Travel class.
    -- For transport modes where the concept of class does not exist, must be set to notApplicable.
    -- Omitted if the class is the same as the class of the associated leg.
    classCode               TravelClassType                   DEFAULT second,

    -- Service brand: code list https://uic.org/service-brand-code-list.
    -- To identify the transport service uniquely in combination with transport number and departure date.
    -- Omitted if this specific service brand is already specified in the associated leg, and is the only one that is specified for this leg
    --   (a leg can allow many service brands, but a reservation only specifies one).
    serviceBrand            INTEGER (0..32000)                OPTIONAL,
    serviceBrandAbrUTF8     UTF8String                        OPTIONAL,

    -- Service level code list from 918.1.
    -- Omitted if the same service level is already specified in the description of the associated leg.
    serviceLevel            IA5String (SIZE(1..2))            OPTIONAL,

    -- Service code list from 918.1 (seat, couchette...).
    service                 ServiceType                       DEFAULT seat,

    -- Reserved places
    coachPlaces             SEQUENCE OF CoachPlacesType       OPTIONAL,

    -- Number of persons on the ticket having a reservation without assigned places
    numberOfOverbooked      INTEGER (0..200)                  DEFAULT 0,

    -- Description of berths
    berth                   SEQUENCE OF BerthDetailData       OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data for vouchers
--    /!\ included are quite basic, further study is required
-- ##############################################################################################
VoucherData ::= SEQUENCE {

    -- Identification of the product (owner, id, textual description).
    product                          ProductType,

    -- Internal reference of the voucher.
    reference                        GenericIdType                      OPTIONAL,

    -- Begin / end of validity in local date wherever the traveler is located.
    -- Valid from 00:00 to 23:59.
    -- Number of year.
    validFromYear                    INTEGER (2016..2269),
    -- Number of the day in the year (1.1. = 1).
    validFromDay                     INTEGER (0..500),

    -- Number of year.
    validUntilYear                   INTEGER (2016..2269),
    -- Number of the day in the year (1.1. = 1).
    validUntilDay                    INTEGER (0..500),

    -- Value of the voucher, in the currency and fraction defined in IssuingData.
    value                            INTEGER                          DEFAULT 0,

    -- Type of the voucher, code list defined by the product owner.
    type                              INTEGER (1..32000)               OPTIONAL,

    -- Additional information that cannot be described using the other elements.
    infoText                          UTF8String                       OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                         ExtensionData                    OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data for groups of travelers
-- ##############################################################################################
GroupDetailsType ::= SEQUENCE {

    -- TRUE if this ticket is the participant card (= countermark) only, not valid without the real ticket of the ticket holder.
    -- In case participant cards are used, all members of the group except the ticket holder (group leader) will have isGroupParticipantCard == TRUE.
    -- FALSE if this ticket is the real ticket from the group leader.
    isGroupParticipantCard       BOOLEAN,

    -- Name of the group in case of a group ticket
    groupName                    UTF8String                           OPTIONAL,

    ...
}

-- ----------------------------------------------------------------------------------------------
--  Types describing temporal conditions, used in several other type definitions
-- ----------------------------------------------------------------------------------------------
ValidFromType ::= SEQUENCE {
    -- Date/time validity in local time of the location where the journey starts.
    -- Number of days from issuing date (-398 allows reissuing the ticket up to 13 months after the start of its validity, 800 allows issuing the ticket up to 2 years in advance).
    validFromDay     INTEGER (-398..800)                DEFAULT 0,
    -- In case UTC offset is provided (NOT RECOMMENDED) the local date time is the time zone of validity region. The region where the ticket is valid must not cover more than one time zone.
    -- In case no UTC offset is provided (RECOMMENDED)  the local date time is the time zone of the current location of the traveler.
    validFromTime    INTEGER (0..1439)                  DEFAULT 0
}

ValidUntilType ::= SEQUENCE {
    -- Date/time validity in local time of the location where the journey ends.
    -- Number of days from validFrom date, 0 = validUntilDay is equal to the first day of validity.
    validUntilDay     INTEGER (-1..500)            DEFAULT 0,
    validUntilTime    INTEGER (0..1439)            DEFAULT 1439
}

ExtendedValidUntilType ::= SEQUENCE {
    -- Extended date/time validity (up to just over 5 years) in local time of the location where the journey ends.
    -- Number of days from validFrom date.
    validUntilDay    INTEGER (501..2000),
    validUntilTime    INTEGER (0..1439)                 DEFAULT 1439
}

IncludedTimeRangesType ::= SEQUENCE {
    dayTypes                     DayTypesType,
    includedTimeRange            SEQUENCE OF TimeRangeType   OPTIONAL
}

DayTypesType ::= SEQUENCE {
    --  monday = true, national_holiday = true --> true on mondays or national_holidays.
    monday              BOOLEAN,
    tuesday             BOOLEAN,
    wednesday           BOOLEAN,
    thursday            BOOLEAN,
    friday              BOOLEAN,
    saturday            BOOLEAN,
    sunday              BOOLEAN,
    -- National holiday (e.g. Christmas)
    nationalHolidays    BOOLEAN,
    -- County holiday (e.g. Corpus Christi)
    countyHolidays      BOOLEAN,
    -- Local holiday (e.g. Augsburger Friedensfest)
    localHolidays       BOOLEAN,
    -- Days when pollution levels exceed the threshold
    pollutionDay        BOOLEAN,
    ...
}

TimeRangeType ::= SEQUENCE {
    -- Local time
    fromTime                INTEGER (0..1439),
    -- Local time
    untilTime               INTEGER (0..1439)
}

-- ##############################################################################################
--  Conditions that apply:
--    - if used for generalConditions: to the entire transport product.
--    - if used for specificConditions: to the associated leg.
-- ##############################################################################################
ConditionsType ::= SEQUENCE {

    -- Area (city, region, country...) in which the transport document / the leg is valid
    --   (allows also defining local code tables depending on this area).
    -- Omitted if the area is implicit or completely defined with the geoValidity elements.
    concernedArea                    ConcernedAreaType               OPTIONAL,

    -- Code table to be used by default for all the elements in the transport document / in the leg.
    locationCodeTable                CodeTableType                   OPTIONAL,

    -- Version of the code tables used.
    -- (only relevant if locationCodeTable indicates a bilaterally agreed code table)
    locationCodeTableVersion         INTEGER (0..255)                OPTIONAL,

    -- Detailed type of the transport product
    productType                      ProductTypeType,

    -- Identification of the product (owner, id, textual description)
    product                          ProductType                     OPTIONAL,

    -- Internal reference to the document (e.g. serial number of the document)
    reference                        GenericIdType                   OPTIONAL,

    -- Time validity
    -- Having no validFrom is allowed (e.g. ticket not yet activated, which will be reissued with an explict validFrom upon activation).
    -- Having no validUntil is allowed (e.g. ticket with unlimited validity - which should nevertheless have a security expiry date in the header requiring regular reissue).
    validFrom                        ValidFromType                   OPTIONAL,
    validUntil                       ValidUntilType                  OPTIONAL,
    rareTimingConditions             RareTimingConditionsType        OPTIONAL,

    -- TRUE if the direction of travel must be followed as described:
    -- - in generalConditions: the traveler must pass the sequence of segments in the provided order
    --   (but some segments may be skipped, e.g. if 2 segments are 2 allowed alternatives for the same journey)
    -- - in specificConditions: the traveler must take the transport in the direction indicated by the segment (e.g. from O to D)
    -- FALSE if the direction of travel is not mandatory:
    -- - in generalConditions: the traveler can travel through the described segments in any order
    -- - in specificConditions: the traveler can take the transport indicated by the segment in any direction (e.g. from O to D or from D to O)
    -- omitted if the concept of direction is not relevant (e.g. for geographical validity as unordered areas)
    directionIsMandatory             BOOLEAN                         OPTIONAL,

    -- Link to a specific transport service without reservation
    transportLink                    TransportLinkType               OPTIONAL,

    -- Link to a specific transport service with reservation
    reservation                      ReservationSegmentType          OPTIONAL,

    -- Included carriers responsible for the transport
    includedCarrier                  SEQUENCE OF CompanyCodeType     OPTIONAL,

    -- Included transport modes. Code list: EN 1545-1 (transport type code)
    includedTransportType           SEQUENCE OF INTEGER (0..31)      OPTIONAL,

    -- Service brands valid for the route. Code list https://uic.org/service-brand-code-list
    -- In case this list is provided the ticket is invalid on all other service brands
    includedServiceBrand            SEQUENCE OF INTEGER (1..32000)   OPTIONAL,

    -- Travel class
    -- For transport modes where the concept of class does not exist, must be set to notApplicable
    classCode                       TravelClassType                  DEFAULT second,

    -- Servicelevel code according to leaflet 918.1 to encode other products (e.g. PREMIUM, ...)
    serviceLevel                    IA5String (SIZE(1..2))           OPTIONAL,

    -- Tariff data (allowed passengers characteristics, discount cards used...)
    -- If omitted, the ticket is valid:
    -- - for all of the travelers described in the 'traveler' section if this section is present,
    -- - for one passenger (without any further information) if the 'traveler' section is absent.
    tariff                          SEQUENCE OF TariffType           OPTIONAL,

    -- Specific data to support the ticket inspection process
    controlDetail                   ControlData                      OPTIONAL,

    rareDetails                     RareDetailsType               OPTIONAL,

    ...
}

-- ----------------------------------------------------------------------------------------------
--  Rare temporal details and conditions.
-- ----------------------------------------------------------------------------------------------
RareTimingConditions::= SEQUENCE {

    -- Extended validity for tickets valid up to just over 5 years.
    -- If this element is used, the eponymous element in ConditionsType shall not be used.
    -- For security reasons, such a longlasting ticket should:
    -- - either have a shorter security expiry date set in the header and be regularly reissued,
    -- - or integrate other countermeasures such a Security In Paper.
    validUntil                              ExtendedValidUntilType                      OPTIONAL,

    -- Offset in units of 15 minutes from local time to UTC
    --   (UTC = local + offset * 15 Minutes).
    -- The UTC offset can be used to calculate the duration of the travel.
    -- If UTC offset is used in control devices the usage of UTC offset has to be agreed bilateral to be mandatory.
    -- Times to be shown on a ticket should always be the local times.
    validFromUTCOffset                       INTEGER (-60..60)                          OPTIONAL,

    -- Offset in units of 15 minutes from local time to UTC
    --   (UTC = local + offset * 15 Minutes).
    -- The UTC offset can be used to calculate the duration of the travel.
    -- If UTC offset is used in control devices the usage of UTC offset has to be agreed bilateral to be mandatory.
    -- Times to be shown on a ticket should always be the local times.
    -- Omitted in case it is the same as validFromUTCOffset.
    validUntilUTCOffset                      INTEGER (-60..60)                          OPTIONAL,

    -- In case included time ranges are defined, the validity is restricted to these ranges.
    includedTimeRanges                       SEQUENCE OF IncludedTimeRangesType         OPTIONAL,

    -- For return tickets only:
    -- - TRUE means that the outward journey must be made on validFomDay/Time and the return journey must be made on validUntilDay/Time.
    -- - FALSE means that the outward and return journey can be made any moment between validFromDay/Time and validUntilDay/Time.
    -- For other tickets: this element is not relevant and shall be set to FALSE.
    TravelAllowedOnlyOnValidFromAndUntilDay  BOOLEAN,

    -- List of activated days in case the entire ticket is not activated.
    -- Each day is given by the number of days from the first day of validity (validFrom) (0 = first day of validity).
    -- For day that the ticket is activated, the activation is valid from 00:00 to 23:59 in the time zone of the traveler's current location,
    --   thereby the activation might include more or less that 24 hours in case time zone borders are crossed.
    -- Travel days of a ticket might be subject to a separate activation to be valid for traveling.
    activatedDay                            SEQUENCE OF INTEGER (0..500)                OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                               ExtensionData                               OPTIONAL,

    ...
}

-- ----------------------------------------------------------------------------------------------
--  Rare non-temporal details and conditions.
-- ----------------------------------------------------------------------------------------------
RareDetailsType::= SEQUENCE {

    -- Associated online identifier (e.g. Account Based Ticketing identifier)
    token                     TokenType                       OPTIONAL,

    -- Family of the product, allowing to process the product according to its family.
    -- Value according to the product owner.
    productFamily             IA5String                       OPTIONAL,

    -- Excluded carriers responsible for the transport starting at this station.
    -- In case this list is provided, the ticket is valid on all other carriers,
    --   and includedCarrier (in ConditionsType) shall not be used.
    excludedCarrier           SEQUENCE OF CompanyCodeType      OPTIONAL,

    -- Excluded transport modes. Code list: EN 1545-1 (transport type code).
    -- In case this list is provided, the ticket is valid on all other transport modes,
    --   and includedTransportType (in ConditionsType) shall not be used.
    excludedTransportType     SEQUENCE OF INTEGER (0..31)     OPTIONAL,

    -- Excluded service brands for the route.
    -- In case this list is provided, the ticket is valid on all other service brands,
    --   and includedServiceBrand (in ConditionsType) shall not be used.
    excludedServiceBrand      SEQUENCE OF INTEGER (1..32000)  OPTIONAL,

    -- Price of the tranport product (if in generalConditions) or of the segment (if in specificConditions),
    --   in the currency and fraction defined in IssuingData.
    price                     INTEGER                         OPTIONAL,

    -- To be used in case of special conditions that can only be provided as a text.
    conditionText             UTF8String                      OPTIONAL,

    -- In case the luggage restrictions are general and do not depend
    --    on the ticket type they should not be included
    luggage                   LuggageRestrictionType          OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data for station passage and access.
--  Ticket used to enter, exit or pass a station without traveling.
--  E.g. for staff working in a station.
-- ##############################################################################################
StationPassageData ::= SEQUENCE {

    -- Identification of the product (owner, id, textual description)
    product                       ProductType,

    -- Internal reference to the document
    reference                     GenericIdType                    OPTIONAL,

    -- Station(s) concerned
    station                       StationSetType                   OPTIONAL,

    -- List of areas in a station where the access is allowed
    area                          AreaIdType                       OPTIONAL,
    -- Area names
    areaNameUTF8                  SEQUENCE OF UTF8String           OPTIONAL,

    -- Period of validity of the right of passage.
    validFrom                     ValidFromType                    OPTIONAL,
    validUntil                    ValidUntilType                   OPTIONAL,

    -- Number of days for station passage in case the number of days
    --   is limited and less than the validity period.
    -- If present, the count of the remaining number of valid days is centrally held in a back office,
    --   that must be queried to verify whether the traveler still has a right of passage.
    numberOfDaysValid             INTEGER                          OPTIONAL,

    -- Proprietary data defined bilaterally
    extension                     ExtensionData                    OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data for simple customer cards.
--  For detailed or complex cards (e.g. valid only on a specific OD), use transportProduct instead.
--  Included are data from:
--    - OEBB requirements on card data
--    - DB Bahncard as HandyTicket
--  Note: customer data are included in the traveler data structure
-- ##############################################################################################
CustomerCardData ::= SEQUENCE {

    -- Customer details.
    -- Optional, as there might be anonymous cards.
    customer             TravelerType                            OPTIONAL,

    -- Card id.
    cardId               GenericIdType                           OPTIONAL,

    -- Begin / end of validity in local date wherever the traveler is located.
    validFrom            ValidFromType                           OPTIONAL,
    validUntil           ValidUntilType                          OPTIONAL,

    -- Travel class in case card usage is limited to a travel class.
    -- For transport modes where the concept of class does not exist, must be set to notApplicable.
    classCode            TravelClassType                         OPTIONAL,

    -- Code of the card type code list defined by the issuer.
    cardType            INTEGER (1..1000)                        OPTIONAL,

    -- Readable description of the card type.
    cardTypeDescr       UTF8String                               OPTIONAL,

    -- Customer status code
    --     1 = basic
    --     2 = premium
    --     3 = silver
    --     4 = gold
    --     5 = platinum
    --     6 = senator
    --     > 50 - code table of the card issuer
    customerStatus      INTEGER                                  OPTIONAL,

    -- Readable customer status, e.g. "gold",
    customerStatusDescr IA5String                                OPTIONAL,

    -- List of included services,
    --     1 = Rail Plus
    --     2 = access to launch
    --     > 50  code list of the issuer
    includedServices        SEQUENCE OF INTEGER                  OPTIONAL,

    -- Proprietary data defined bilaterally
    extension               ExtensionData                        OPTIONAL,

    ...
}

-- ##############################################################################################
--  Data for parking as a standalone document.
--  Included are data from:
--  - DB parking ground reservation
-- ##############################################################################################
ParkingGroundData ::= SEQUENCE {

    -- Identification of the product (owner, id, textual description).
    product                       ProductType,

    -- Internal reference to the document
    reference                     GenericIdType                  OPTIONAL,

    -- Start and end of validity of parking entitlement. Date and time in time zone of the parking.
    -- When validFromTime == 0, validity is the whole day depending on opening hours of the parking facility.
    validfrom                     ValidFromType,
    validUntil                    ValidUntilType,

    ...,

    parkingDetails                ParkingType

}

-- ##############################################################################################
--  Data for parking as a leg of a global transport document.
---   Suitable for cars but also for motorbikes, bikes...
-- ##############################################################################################
ParkingType ::= SEQUENCE {

    -- Code provided by the product.productOwner.
    parkingGroundId               IA5String,

    -- Code needed to access the parking lot.
    accessCode                    IA5String                     OPTIONAL,

    -- Name of the parking location
    -- Omitted if the vehicle can park anywhere in the parking ground.
    location                      UTF8String,

    -- In case the parking ground is associated with a station.
    station                       StationType                   OPTIONAL,

    -- In case a special entry can or must be taken (e.g. VIP entry).
    entryTrack                    UTF8String                    OPTIONAL,

    -- Number plate of the car parked.
    numberPlate                   IA5String                     OPTIONAL,

    -- Number of days or hours of allowed parking in case this number is limited and less than the validity period.
    -- If present, the count of the remaining number of allowed days or hours is centrally held in a back office,
    --   that must be queried to verify whether the traveler still has a right of parking.
    numberAllowed CHOICE {
        days                      INTEGER,
        hours                     INTEGER
    }

    -- Additional information that cannot be described using the other elements.
    infoText                      UTF8String                    OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                     ExtensionData                 OPTIONAL,

    ...
   }

-- ##############################################################################################
--  Transport number
-- ##############################################################################################
TransportNumberType ::= CHOICE {
    transportNumberNum INTEGER,
    transportNumberIA5 IA5String
}

-- ##############################################################################################
--  Product identification
-- ##############################################################################################
ProductType ::= SEQUENCE {

    -- Organization responsible for the product definition.
    -- If omitted in specificConditions, productOwner is the one described in generalConditions.
    -- If omitted in generalConditions, productOwner is the 'issuer' element in issuingDetail.
    productOwner                   CompanyCodeType                OPTIONAL,

    -- Product id to identify the issued product codelist defined by the product owner.
    productId                      ProductIdType                  OPTIONAL,

    -- Short description of the product.
    productDescription             UTF8String                     OPTIONAL
}


-- ##############################################################################################
--  Generic extension element.
-- 
--  The value of 'extensionId' describes how 'extensionData' is encoded:
--    "+" + [2-letters uppercase ISO 3166 country code] + [addon, chosen by the registrar of that country]
--      means that 'extensionData' is encoded as defined by this registrar,
--      according to the format identified as 'addon' by this registrar.
--    "_" + [CompanyCode] + "_" + [addon, chosen by this company]
--      means that 'extensionData' is encoded as specified by the company identified by CompanyCode,
--      according to the format identified as 'addon' by this company.
--    "*" + [addon] means that 'extensionData' is a content specific to this barcode,
--      identified as 'addon', with no further information on who defined it.
--  Others values are reserved for future UIC use and shall not be used.
-- ##############################################################################################
ExtensionData ::= SEQUENCE {
    extensionId   IA5String,
    extensionData OCTET STRING
}

-- ##############################################################################################
--  VDV extension to be used to transport proprietary VDV codes.
--  extensionId "X_VDV" => /!\ not compliant with the rules concerning extensionId, replace with "*VDV1" ?
-- ##############################################################################################
VDVExtension ::= SEQUENCE {
    -- issuer code using the default code table of the product owner (today used e.g. by VDV)
    externalIssuerId        INTEGER      OPTIONAL,
    -- authorization id provided to the issuer by the poroduct owner (today used e.g. by VDV)
    issuerAutorizationId            INTEGER      OPTIONAL,
    ... -- /!\ TODO Manuel
}


-- ##############################################################################################
--  Tariff data for transport products.
--  Information included are:
--  - number, type and characteristics of allowed passengers, incl. applied reduction cards,
--  - optionally a link to the traveler data.
-- ##############################################################################################
TariffType ::= SEQUENCE {

    -- Number of passengers using the tariff.
    numberOfPassengers                INTEGER (1..200)                 DEFAULT 1,

    -- Type indication (youth, adult, senior...).
    passengerType                    PassengerType                     OPTIONAL,

    -- Age restrictions of the tariff.
    ageBelow                         INTEGER (1..64)                   OPTIONAL,
    ageAbove                         INTEGER (1..128)                  OPTIONAL,

    -- Named traveler list.
    -- Link to the traveler in case the travelers have to be named (e.g. Eurail passes).
    -- The number indicates the position in the traveler sequence starting from 1.
    travelerid                       SEQUENCE OF INTEGER (1..254)      OPTIONAL,

    -- Restriction on country of residence.
    -- TRUE if this tariff is restricted by the country of residence given in the traveler data
    --   (e.g. Eurail tickets are not valid in the country of residence).
    restrictedToCountryOfResidence   BOOLEAN,

    -- Tariff code.
    tariffId                         GenericIdType                     OPTIONAL,

    -- Tariff description.
    tariffDesc                       UTF8String                        OPTIONAL,

    -- Reduction cards applied (incl. discount cards, loyalty cards relevant for the tariff).
    -- Omitted if these cards have already been verified at the time of purchase,
    --   or if their verification is not requested during inspection.
    reductionCard                    SEQUENCE OF CardReferenceType     OPTIONAL,

    ...
}

-- ##############################################################################################
--  Card reference (for any kinf of card: customer card, loyaly card, reduction card...)
-- ##############################################################################################
CardReferenceType ::= SEQUENCE {

    -- Issuer of the card.
    cardIssuer            CompanyCodeType,

    -- Name of the card e.g. "VISA-CARD".
    cardName              UTF8String                      OPTIONAL,

    -- Type of the card, code list defined by the issuer of the card.
    cardType             INTEGER                          OPTIONAL,

    -- Card ID
    -- According to cardIdFormat, the ID is full, limited to the leading part, or limited to the trailing part.
    cardId               CardIdType                       OPTIONAL,
      
    -- Indication whether the full or only the leading or trailing part is provided.
    cardIdFormat         CardIdFormatType                 DEFAULT full,

    ...
}

-- ##############################################################################################
--  Traveler data.
--  Traveler data might contain all traveler details which are independent
--    from the type of travel document.
--  E.g. it can include the date of birth as this is part of the traveler,
--    but not the indication "Senior" as this is tariff dependent.
-- ##############################################################################################
TravelerType ::= SEQUENCE {

    firstName                        UTF8String                                OPTIONAL,
    secondName                       UTF8String                                OPTIONAL,
    lastName                         UTF8String                                OPTIONAL,

    passengerType                   PassengerType                              DEFAULT adult,

    dateOfBirth                     DateType                                   OPTIONAL,

    rareDetails                     RareTravelerDetailsType                    OPTIONAL
}

-- ----------------------------------------------------------------------------------------------
--  Date type, used to indicate the date of birth.
--  All elements are optional to allow indicating only a part of the date (e.g. only the year).
-- ----------------------------------------------------------------------------------------------
DateType :== SEQUENCE {
    year                     INTEGER    (1901..2155)                      OPTIONAL,
    month                    INTEGER    (1..12)                           OPTIONAL,
    day                      INTEGER    (1..31)                           OPTIONAL
}

-- ----------------------------------------------------------------------------------------------
--  Rare traveler data
-- ----------------------------------------------------------------------------------------------
RareTravelerDetailsType ::= SEQUENCE {
   
    idCardId                         IA5String                                 OPTIONAL,
    passportId                       IA5String                                 OPTIONAL,

    -- Cards (reduction, discount, loyalty...) held by the traveler.
    -- Only present if they serve a purpose (e.g. access to a lounge in a station).
    reductionCard                    SEQUENCE OF CardReferenceType             OPTIONAL

    title                            IA5String (SIZE(1..3))                    OPTIONAL,
    gender                           GenderType                                OPTIONAL,

    -- Customer id might be numerical or alphanumerical.
    customerId                       GenericIdType                             OPTIONAL,

   -- Omitted if no information is available.
   passengerWithReducedMobility    BOOLEAN                                    OPTIONAL,

   -- Country of residence (numeric ISO 3166 country code).
   -- To be used in case there are product restrictions on the country of residence (e.g. Eurail passes),
   --   such restrictions are then indicated with the 'restrictedToCountryOfResidence' boolean in 'TariffType'.
   countryOfResidence              INTEGER (1..999)                           OPTIONAL,

   -- Country of ID documents (numeric ISO 3166 country code).
   countryOfPassport               INTEGER (1..999)                           OPTIONAL,
   countryOfIdCard                 INTEGER (1..999)                           OPTIONAL,

   status                          SEQUENCE OF CustomerStatusType             OPTIONAL,

    -- Proprietary data defined bilaterally.
    extension                      ExtensionData                              OPTIONAL,   
    
   ...
}

-- ##############################################################################################
--  Customer status
-- ##############################################################################################
CustomerStatusType ::= SEQUENCE {

    -- Company providing the status.
    -- Omitted if this company is the ticket issuer.
    statusProvider                 CompanyCodeType   OPTIONAL,

    -- Customer status code:
    --     1 = basic
    --     2 = premium
    --     3 = silver
    --     4 = gold
    --     5 = platinum
    --     6 = senator
    --     > 50 - code table of the card issuer
    customerStatus                 INTEGER           OPTIONAL,

    -- Customer status text description (e.g. "gold").
    customerStatusDescr            IA5String         OPTIONAL
}

-- ##############################################################################################
--  Geographical validity.
--  Specification of the geographical validity of one segment of the whole journey.
-- ##############################################################################################
  GeoValiditySegmentType ::= SEQUENCE {

    -- Human readable description of the segment.
    description                            UTF8String             OPTIONAL,

    -- Geographical description of the segment.
    validitySegment                        GeoValidityType,

    -- The specific conditions are in the indicated conditions list. 1 corresponds to the first entry of the sequence.
    -- The edge case of having no general condition and no specific conditions is a valid case. This could be a full fare ticket without any restrictions.
    appliedSpecificConditionsIndex         INTEGER (1..16)        OPTIONAL,
     
    ...
}

-- ##############################################################################################
--  Specification of the geographical validity for a segment.
-- ##############################################################################################
GeoValidityType ::= CHOICE {
    originDestination  OriginDestinationType, -- Simple journey from an Origin to a Destination, with optional description of intermediate stations.
    complexRoute       ComplexRouteType,      -- Complex journey allowing multiple origins, multiple destinations, alternative routes, etc.
    zones              ZoneType,              -- Zonal validity.
    lines              LineType,              -- Set of authorized transport lines.
    polygone           PolygoneType,          -- Area defined using geocoordinates.
    parking            ParkingType,           -- Parking right (for a car, a bike...).
    sharedVehicle      SharedVehicleType,     -- Right to use a shared vehicle service. /!\ Type yet to be defined
    proprietary        ExtensionData,         -- Specific proprietary geographical validity in case the above predefined types do not allow it to be described.
    ...
}

-- ##############################################################################################
--  Geographical validity from an origin station to a destination station
-- ##############################################################################################
OriginDestinationType ::= SEQUENCE {

    -- Origin station of the OD journey.
    -- Omitted if this origin station is the destination station of the previous section of the journey.
    originStation                StationType                       OPTIONAL,

    -- Destination station of the OD journey.
    destinationStation           StationType,

    -- If necessary the (ordered) stations between origin and destination can be indicated.
    intermediateStation          SEQUENCE OF StationType            OPTIONAL,
    
    ...

}

-- ----------------------------------------------------------------------------------------------
--  Identification of a station.
-- ----------------------------------------------------------------------------------------------
StationType ::= SEQUENCE {

    -- Code table in which the station code is defined.
    -- If this code table is not provided the code table of the container object applies.
    stationCodeTable     CodeTableType            OPTIONAL,
       
    station              StationCodeType,
    stationNameUTF8      UTF8String               OPTIONAL
}

-- ##############################################################################################
--  Geographical validity using a set of lines
-- ##############################################################################################
LineType ::= SEQUENCE {

    -- Id of the valid or excluded lines. Only one of both elements shall be present.
    -- Set according to the code table defined in the container object.
    includedLineId              SEQUENCE OF LineIdType            OPTIONAL,
    excludedLineId              SEQUENCE OF LineIdType            OPTIONAL,

    -- In case the line must be entered via a specific station
    entryStation                StationSetType                    OPTIONAL,

    -- In case the line must be left via a specific station
    terminatingStation          StationSetType                    OPTIONAL,
    
    ...
}

-- ----------------------------------------------------------------------------------------------
--  Identification of a line: code + name
-- ----------------------------------------------------------------------------------------------
LineIdType ::= SEQUENCE {
    lineId            LineCodeType,
    lineNameUTF8      UTF8String    OPTIONAL
}

-- ----------------------------------------------------------------------------------------------
--  Code of a line: numerical or alphanumerical
-- ----------------------------------------------------------------------------------------------
LineCodeType ::= CHOICE {
    lineIdNum INTEGER,
    lineIdIA5 IA5String
}

-- ##############################################################################################
--  Geographical validity defined with zones
-- ##############################################################################################
ZoneType ::= SEQUENCE {

    -- The specific zones, and how one can move around them.
    -- Code table is defined in the container object.
    zonalValidity CHOICE {

        -- Zones in which the traveler can enter, travel and leave without any restrictions.
        unorderedZones           AreaIdType,

        -- Zones with restrictions: zones the traveler has to start in / is only allowed to travel through / has to end in.
        -- At least one of the three elements has to be present.
        orderedZones SEQUENCE {

            -- Zones where the traveler must begin his journey.
            entryZoneId          AreaIdType              OPTIONAL,

            -- Zones that the traveler is allowed to cross, but in which he may neither begin nor end his journey.
            transitZoneId        AreaIdType              OPTIONAL,
            
            -- Zones where the traveler must terminate his journey.
            terminatingZoneId    AreaIdType              OPTIONAL,
        }
    } OPTIONAL,
         
    -- In case the allowed zones must be entered via specific stations
    --   (e.g. local city traffic  starting from the station where a train journey ends).
    entryStation                 StationSetType          OPTIONAL,

    -- In case the zone must be left via a specific station
    --   (e.g. local city traffic ending in the station where a train journey begins).
    terminatingStation           StationSetType          OPTIONAL,

    -- Name of the area of validity.
    zoneNameUTF8                 UTF8String              OPTIONAL,
    
    ...
}

-- ##############################################################################################
--  Complex Route
--    Includes a description of the route by via stations.
--    Via stations follow the description in leaflet 108.1:
--      - Via stations can be mandatory to pass, but there does not need to be a
--        stop at these stations: visible route description: "*station*"
--      - There can be a list of alternative routes:
--        visible route description: "*(station1/station2)*"
--      - There can also be alternative routes: "*(station1*station2/station3*station4)*"
--        although the definition in 108.2 is not very precise on this option
-- ##############################################################################################
ComplexRouteType ::= SEQUENCE {

    routeItem                        RouteItemType,

    -- Information about the change of the service at this route item:
    -- - TRUE: change is mandatory
    -- - FALSE: change is forbidden
    -- - omitted if change is allowed but not mandatory
    changeOfService                  BOOLEAN                        OPTIONAL,

    -- In case different carriers and/or different service brands need to be indicated on the routes or alternative routes.
    appliedSpecificConditionsIndex   INTEGER (1..16)                OPTIONAL,
    
    ...
}

-- ----------------------------------------------------------------------------------------------
--  Description of a route item
-- ----------------------------------------------------------------------------------------------   
RouteItemType ::= CHOICE {

    -- The route item is the destination station from the previous validity segment. 
    destinationStationOfPreviousSegment  BOOLEAN, -- /!\ NULL instead of BOOLEAN (because FALSE has no sense in this CHOICE)

    -- The route item is a specific station
    station                              StationType,

    -- The route item is a set of stations that are equivalent (OSDM: FareStationSet).
    stationSet                           StationSetType,

    -- The route item is a list of stations along the route
    route                                SEQUENCE OF ComplexRouteType,

    -- The route item is a list of alternative routes, one of these has to be taken
    alternativeRoutes                    SEQUENCE OF ComplexRouteType,
    
    ...
}

-- ----------------------------------------------------------------------------------------------
-- Set of stations.
-- It can be defined through a code, and/or a name, and/or the explicit list of its stations.
-- ----------------------------------------------------------------------------------------------
StationSetType ::= SEQUENCE {
   
    -- Code for the set of stations.
    -- If the code table is not provided the code table of the container object applies.
    stationSetCodeTable  CodeTableType                      OPTIONAL,
    stationSetCode       StationCodeType                    OPTIONAL,

    -- Name of the set of stations.
    stationSetNameUTF8   UTF8String                         OPTIONAL,
       
    -- Explicit list of the stations of the station set.
    stationSetStations   SEQUENCE of StationType            OPTIONAL
}

-- ##############################################################################################
--  Geographical validity defined as a polygone.
-- ##############################################################################################
PolygoneType ::= SEQUENCE {
    firstEdge     GeoCoordinateType,
    edges         SEQUENCE OF DeltaCoordinates
}


-- ##############################################################################################
--  TokenType provides an additional identifier.
--  Known use cases:
--     - Identifier of the media linked with the barcode, e.g.:
--       > Mobile phone for tickets linked with a specific phone (e.g. VDV standard)
--       > Serial number of a Security In Paper ticket hosting the barcorde
--    - Identifier of an ABT (Account Based Ticketing) system
-- ##############################################################################################
TokenType ::= SEQUENCE {

    -- Category of the token.
    -- Omitted if the token category is implicit or unspecified.
    tokenCategory           TokenCategoryType                     OPTIONAL,

    -- Provider of the token.
    -- Omitted if the provider is the 'issuer' identified in IssuingData.
    tokenProvider           CompanyCodeType                       OPTIONAL,

    -- Format of the 'token' element:
    --   "+" + [2-letters uppercase ISO 3166 country code] + [addon, chosen by the registrar of that country]
    --     means that 'token' is encoded as defined by this registrar,
    --     according to the format identified as 'addon' by this registrar.
    --   "_" + [CompanyCode] + "_" + [addon, chosen by this company]
    --     means that 'token' is encoded as specified by the company identified by CompanyCode,
    --     according to the format identified as 'addon' by this company.
    --   "*" + [addon] means that 'token' is encoded as specified by the token provider,
    --     identified as 'addon' by its provider.
    --   Others values are reserved for future UIC use and shall not be used.
    -- Omitted if the format is  implicit for the token provider.
    tokenSpecification      IA5String                             OPTIONAL,

    -- Value of the token, encoded according to tokenSpecification.
    token                   OCTET STRING,
    
    ...
}

-- ##############################################################################################
--  TicketLinkType is used to define a link from the ticket in the barcode to another ticket
--    (requirement from Eurail).
--  Known use cases:
--    - reservation of trailer and car carriage and traveler reservation.
--    - link between open ticket and bicycle reservations or pass.
--    - open ticket and vouchers for meals.
-- ##############################################################################################
TicketLinkType ::= SEQUENCE {

    -- Data to reference the external ticket
    ticketIssuer                CompanyCodeType          OPTIONAL,
    ticketId                    GenericIdType            OPTIONAL,

    -- Name of the issuer of the external ticket
    ticketIssuerName            UTF8String               OPTIONAL,

    -- Type of linked ticket
    ticketType                  ProductTypeType          DEFAULT ticket:{},

    -- Type of link
    linkMode                    LinkModeType             DEFAULT issuedTogether,
    
    ...
}

-- ##############################################################################################
--  Place data corresponding to leaflet 918.1.
--  placeString = place number ranges in case of groups
-- ##############################################################################################
CoachPlacesType ::= SEQUENCE {

    coach                   IA5String                           OPTIONAL,

    -- Printable place string  (e.g. "15-18, 21, 22")
    placeString            IA5String                            OPTIONAL,

    -- Printable place description
    placeDescription       UTF8String                           OPTIONAL,

    -- Individual places
    placeNumber            SEQUENCE OF PlaceNumberType          OPTIONAL,

    details               PlaceDetailsType                      OPTIONAL
}

-- ##############################################################################################
--  Sleeper compartment types corresponding to leaflet 918.1
-- ##############################################################################################
BerthDetailData ::= SEQUENCE {
    berthType              BerthTypeType,
    numberOfBerths         INTEGER (1..999),
    gender                 CompartmentGenderType         DEFAULT family,
    ...
}

-- ##############################################################################################
--  Compartment details corresponding to leaflet 918.1
--    918.1 pos 1/2 --> 1..99
--    918.1 pos 3/4 --> 101..199
--    918.1 pos 5/6 --> 201..299
-- ##############################################################################################
PlaceDetailsType ::= SEQUENCE {
    coachType          INTEGER (1..999),
    description        UTF8String            OPTIONAL
}

-- ##############################################################################################
--  Luggage restrictions.
--  The basis for these data is week:
--    - SCIC mentions a maximum of three pieces of hand luggage but does not includes
--      a definition of hand luggage.
--    - SCIC refers to special conditions on registered luggage,
--      but SCIC NRT does not contain definitions on that,
--      and UIC 108.1 does not contain data structures for luggage.
--    - current THALYS luggage restrictions.
-- ##############################################################################################
LuggageRestrictionType ::= SEQUENCE {

    -- Allowed hand luggage pieces on this ticket (3 = default in current NRT tariff).
    maxHandLuggagePieces         INTEGER(0..99)                              DEFAULT 3,
    
    -- Allowed non-hand luggage pieces on this ticket.
    maxNonHandLuggagePieces      INTEGER(0..99)                              DEFAULT 1,
    
    registeredLuggage            SEQUENCE OF RegisteredLuggageType           OPTIONAL,
    
    ...
}

-- ----------------------------------------------------------------------------------------------
--  Description of a registered luggage
-- ----------------------------------------------------------------------------------------------
RegisteredLuggageType ::= SEQUENCE {

    -- Id of the additional registered luggage
    registrationId             GenericIdType         OPTIONAL,
    
    -- Maximum weight in kg
    maxWeight                  INTEGER (1..99)       OPTIONAL,
    
    -- Sum of length with and height in cm
    maxSize                   INTEGER (1..300)       OPTIONAL,
    
    ...
}

-- ##############################################################################################
-- Generic types for geo coordinates
-- ##############################################################################################
GeoCoordinateType ::= SEQUENCE {
    geoUnit                   GeoUnitType             DEFAULT milliDegree,
    coordinateSystem          GeoCoordinateSystemType DEFAULT wgs84,
    longitude                 INTEGER,
    latitude                  INTEGER,
    accuracy                  GeoUnitType             OPTIONAL  -- If omitted the accuracy is unknown
}

DeltaCoordinates ::= SEQUENCE {

    -- Longitude difference to a reference point
    longitude                 INTEGER,
    
    -- Latitude difference to a reference point
    latitude                  INTEGER
}

-- ##############################################################################################
--  Generic definitions for various data using numeric, alphanumeric and/or binary codings.
-- ##############################################################################################

-- Identification of a product, according to the code list defined in the container object.
ProductIdType ::= CHOICE {
    productIdNum   INTEGER (0..65535),
    productIdIA5   IA5String
}

-- Identification of the area in which the elements of the container object are applicable.
ConcernedAreaType ::= SEQUENCE {
    -- If the code table is not provided the code table of the container object applies.
    codeTable CodeTableType OPTIONAL,
    areaId    AreaIdType
}

-- Identification of a set of zones, each zone identification (Num, IA5, Oct, Bit) being defined according to the code list defined in the container object.
AreaIdType ::= CHOICE {
    -- Sequence of zone identifiers
    areaIdNum    SEQUENCE OF INTEGER,      -- e.g. sequence of allowed zone numbers such as {1,5,23}
    areaIdIA5    SEQUENCE OF IA5String,    -- e.g. sequence of european NUTS code such as {"FRF11","FRF12","DE1"}, or zones described with text such as {"M","1-3"}
    areaIdOct    SEQUENCE OF OCTET STRING, -- e.g. sequence of Calypso NetworkIds such as {'250901'H,'250072'H}
       
    -- Bit representation of zones.
    -- Recommended encoding if applicable: bit n (considering that bit 0 = right-most bit) encodes zone n+1, bit value 1 = zone is allowed, bit value 0 = zone is forbidden.
    areaIdBit    BIT STRING                -- e.g. bitmap of allowed zones such as '10101110010'B for zones 2, 5, 6, 7, 9 and 11
}

-- Identification of any element using a numerical, alphanumerical or binary ID, according to the code list defined in the container object.
GenericIdType ::= CHOICE {
    idNum           INTEGER,      -- for numerical IDs
    idIA5           IA5String,    -- for alphanumerical IDs
    idOct           OCTET STRING  -- for binary IDs such as UUIDs
}

-- Identification of a company.
CompanyCodeType ::= CHOICE {
    -- Values 1..9999 are RICS codes defined by UIC and registered on https://uic.org/support-activities/it/rics
    -- Values > 9999 are proprietary codes defined by the product owner defined in the container object, who must ensure their uniqueness.
    codeNum       INTEGER (1..32000),

    -- Values of exactly 4 characters are RICS codes defined by ERA.
    -- A numerical value shall never be stored with codeIA5 but only with codeNum.
    -- Values of less or more than 4 characters are proprietary codes defined by the product owner defined in the container object, who must ensure their uniqueness.
    codeIA5       IA5String 
}

-- Identification of a station, according to the code list defined in the container object.
StationCodeType ::= CHOICE {
    stationNum        INTEGER (1..999999999),
    stationIA5        IA5String
}

-- Identification of a place
PlaceNumberType ::= CHOICE {
    placeNum      INTEGER (1..254),
    placeIA5      IA5String
}

-- ##############################################################################################
--  Code table choice.
--  Defines the code table used, e.g. to define station code or area code or line code.
-- ##############################################################################################
CodeTableType ::= CHOICE {
    nuts          NULL,               -- European NUTS code.
    locationUIC   NULL,               -- UIC station code from MERITS (UIC country code + 5 digit local code (= ERA rail station code) / 2-digit scope code + UIC country code + 5 digit local code).
    issuer        NULL,               -- Bilaterally agreed code table of the 'issuer' defined in issuingDetail.
    productOwner  NULL,               -- Bilaterally agreed code table provided by the product owner.
    carrier       NULL,               -- Bilaterally agreed code table provided by the carrier(s) participating in the related route segment.
    area          NULL,               -- Bilaterally agreed code table for the area defined by the element 'concernedArea' defined in the container object.
    national     IA5String (SIZE(2)), -- National code list of the national authority the country defined by its ISO 3166-1 alpha-2 code (uppercase).
    company      CompanyCodeType,     -- Bilaterally agreed code table provided by the company defined according to its CompanyCodeType.
    ...
}
    
-- ##############################################################################################
--  Product type indicates the type of the transport product,
--    as well as some specific characteristics it may have.
-- ##############################################################################################
ProductTypeType ::= CHOICE {

    -- /!\ The 2 first categories are not exclusive:
    -- - a ticket may need a back office management (e.g. book of tickets)
    -- - a rightToTravel may include a description of the allowed zones
    -- - a barcode could simultaneously include the full description of a product and ABT code,
    --   in order to allow some operators to validate/check using the barcode content, and some others to validate using only the ABT code.
    -- Proposal: we should merge both categories and just add a 'onlineValidationNeeded' boolean in TicketDetailsType
    -- Indeed this unified 'ticket' choice would cover all documents that allow traveling.

    -- Transport service fully described in the barcode document: single ticket, return ticket, travelcard, pass, access to a (car, bike...) parking lot, carsharing service...
    -- This choice also describes some associated characteristics:
    --   - number of possible use (single/return/multiple/unlimited),
    --   - is the ticket an initial ticket or an upgrade
    --   - does the ticket need an associated reservation to be usable
    ticket         TicketDetailsType, 

    -- Transport right not (or not fully) described in the barcode. ,  managed in a back office. E.g.:
    -- - pay-as-you-go: 
    -- - account-based-ticketing: validation and control are granted according to an ABT identifier contained in the barcode
    -- - standalone transportLink on a specific transport
    rightToTravel  NULL,

    -- Standalone reservation, which does not authorize travel unless accompanied by a ticket.
    reservation    NULL,

    -- Any card (reduction card, loyalty card...) that does not authorize travel but allows the holder to benefit from reduced prices or commercial advantages.
    commercialCard NULL,

    -- Very specific product, in case none of the above choices apply.
    proprietary    NULL,
    
    ...
}

-- ----------------------------------------------------------------------------------------------
--  Description of a ticket characteristics
-- ----------------------------------------------------------------------------------------------
TicketDetailsType ::= SEQUENCE {

    -- Ticket category, indicating how many time the product can be used.
    ticketCategory                TicketCategoryType DEFAULT single,

    -- Indicates if the ticket is an upgrade of another ticket
    isAnUpgrade                   BOOLEAN            DEFAULT FALSE,

    -- Indicates if an associated reservation (as a separate standalone document) is required for the ticket to be usable:
    --   - TRUE if an associated reservation is required.
    --   - FALSE if no associated reservation is required (this value covers the case when the reservation is included in the ticket conditions).
    additionalReservationRequired BOOLEAN            DEFAULT FALSE, 
    ...
}

-- ##############################################################################################
--  Enumerations definitions
-- ##############################################################################################

TicketCategoryType ::= ENUMERATED {
    single    (0), -- Single ticket: only one journey is permitted.
    return    (1), -- Return ticket: only one outward journey and one return journey are permitted.
    multiple  (2), -- Multiple but not unlimited journeys are permitted (e.g. ticket book). The counting is made in a backoffice.
    unlimited (3), -- As many journeys as desired are permitted (e.g. pass).
    ...
}

TokenCategoryType ::= ENUMERATED {
    media                 (0), -- 'token' is the ID of the media (phone, SIP ticket includind a serial number...) with which the ticket is linked
    accountBasedTicketing (1), -- 'token' is the ID of the account with which the ticket is linked
    ...
}

-- ProductTypeType ::= ENUMERATED {
--        point-2-point-single-trip                                      (0),   -- single usage ticket for origin to destination
--        point-2-point-single-trip-mandatory-reservation                (1),   -- single usage ticket for origin to destination
--        point-2-point-return-trip                                      (2),   -- single usage ticket for origin to destination and return
--        point-2-point-multiple-trips                                   (3),   -- multiple usage ticket for origin to/froim destination e.g. monthly ticket beaween A and B
--        area-ticket-multiple-trips                                     (4),   -- multiple usage ticket for an area
--        area-ticket-single-trip                                        (5),   -- single usage ticket for an area
--        upgrade-point-2-point-single-trip                              (6),   -- upgrade on a single usage ticket for origin to destination (e.g. 2nd to 1st classs, normal to premium train)
--        upgrade-point-2-point-single-trip-mandatory-reservation        (7),   -- upgrade on a single usage ticket for origin to destination (e.g. 2nd to 1st classs, normal to premium train)
--        upgrade-point-2-point-return-trip                              (8),   -- upgrade on a single usage ticket for origin to destination and return
--        upgrade-point-2-point-multiple-trips                           (9),   -- upgrade on a multiple usage ticket for origin to/froim destination e.g. monthly ticket beaween A and B
--        upgrade-area-ticket-multiple-trips                             (10),   -- upgrade on a multiple usage ticket for an area
--        upgrade-area-ticket-single-trip                                (11),   -- upgrade on a single usage ticket for an area
--        reservation-with-supplement                                    (12),
--        bicycle-reservation                                            (13),   -- reservation of a bicycle to be attached to the bike
--        pay-as-you-go                                                  (14),   -- right to travel
--        standalone-reservation                                         (15),   -- reservation without the associated ticket
--        commercial-card                                                (16),   -- card allowing to buy tickets with reductions
--        ...
-- }
--
-- -- alternative:
-- TicketUsageType ::= SEQUENCE {
--        -- single  vs. multiple trip ticket
--        singleTrip           BOOLEAN,
--        -- upgrade vs. base ticket
--        upgrade              BOOLEAN.
--        -- point-2-point vs area ticket
--        point-2-point        BOOLEAN,
-- }

ServiceType ::= ENUMERATED {
    seat              (0),
    couchette         (1),
    berth             (2),
    carcarriage       (3),
    ...
}

PassengerType ::= ENUMERATED {
    adult             (0),
    senior            (1),
    child             (2),
    youth             (3),
    dog               (4),
    bicycle           (5),
    youngChild        (6),
    familyChild       (7),  -- Child associated with a family traveling together
    accompPRM         (8),  -- Accompanying person for PRM (Passenger with Restricted Mobility)
    wheelchair        (9),  -- Passenger with wheel-chair
    pet               (10), -- A pet but not a dog
    accompDog         (11), -- An accompanying dog for a PRM (Passenger with Restricted Mobility)
    ...
}

LinkModeType ::= ENUMERATED {
    issuedTogether         (0),
    onlyValidInCombination (1),
    ...
}

ConfirmationType ::= ENUMERATED {
    transportDelayConfirmation    (0), -- Confirmation of transport delay, whether the traveler was on board in unconfirmed
    travelerDelayConfirmation     (1), -- Confirmation that the traveler was on board of the delayed transport
    transportLinkedTicketDelay    (2), -- Confirmation that a ticket linked to the delayed transport was issued
    ...
}

BerthTypeType ::= ENUMERATED {
    single     (0),
    special    (1),
    double     (2),
    t2         (3),
    t3         (4),
    t4         (5)
}

CompartmentGenderType ::= ENUMERATED {
    unspecified    (0),
    family         (1),
    female         (2),
    male           (3),
    mixed          (4),
    ...
}

GenderType ::= ENUMERATED {
    unspecified    (0),
    female         (1),
    male           (2),
    other          (3),
    ...
}

CardIdFormatType ::= ENUMERATED {
    full              (0),
    leadingPart       (1),
    trailingPart      (2)
}

TravelClassType ::= ENUMERATED {
    notApplicable  (0),
    first          (1),
    second         (2),
    tourist        (3),
    comfort        (4),
    premium        (5),
    business       (6),
    all            (7),
    premiumFirst   (8),
    standardFirst  (9),
    premiumSecond  (10),
    standardSecond (11),
    ...
}

GeoCoordinateSystemType ::= ENUMERATED {
    wgs84         (0), -- WGS 84 standard system
    grs80         (1)  -- (outdated) GRS 80 coordinate system
}

GeoUnitType ::= ENUMERATED {
    microDegree           (0), -- approx. 11 cm on earth surface
    tenthmilliDegree      (1), -- 1 / 10000 degree is approx. 11 meter on earth surface
    milliDegree           (2), -- approx 110 meter on earth surface
    centiDegree           (3),
    deciDegree            (4)
}

LoadingDeckType ::= ENUMERATED {
    unspecified          (0),
    upper                (1),
    lower                (2)
}

CompartmentPositionType ::= ENUMERATED {
    unspecified          (0),
    upperLevel           (1),
    lowerLevel           (2)
}

RoofRackType ::= ENUMERATED {
    norack               (0),
    roofRailing          (1),
    luggageRack          (2),
    skiRack              (3),
    boxRack              (4),
    rackWithOneBox       (5),
    rackWithTwoBoxes     (6),
    bicycleRack          (7),
    otherRack            (8),
    ...
}

RetailChannelData ::= ENUMERATED {
    smsTicket            (0), -- SMS sent to a specific number
    mobileApplication    (1), -- Application on a mobile phone
    webSite              (2), -- Internet portal
    ticketOffice         (3), -- Agency or counter
    depositaryTerminal   (4), -- Dealer (e.g. tobacconist, newsagent, cafe, etc.)
    onBoardTerminal      (5), -- On-board sales (e.g. using the driver's point-of-sale terminal)
    ticketVendingMachine (6), -- Automatic sales machine
    ...
}

END

-- ##############################################################################################
-- TODO
-- - indication of different FIP tickets - producttype, tariff, ...
-- - naming of geo... (areas, regions,..)
-- - can car carriage be integrated in transport document?
-- - use cases for micro mobility
--    - check-in / check-out barcode in app
--    - barcodes on fixed items
--        - barcode on a bike
--        - check-in / check-out barcode at check-in check-out point
-- - other use cases?
-- ##############################################################################################


